<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="..\..\bower_components/polymer/polymer.html">
<link rel="import" href="..\..\bower_components/paper-icon-button/paper-icon-button.html">


<dom-module id="teacher-book-refernce-card">
  <template>
    <style>   
       :host {
        display: block;
      }
       .collapse-content {
    padding: 15px;
    border: 1px solid #dedede;
  }
    section{
    top: 200px;
    right: 65%;
    width: 327px;
    height: 300px;
   }
   section p{
   
   }
   .cadcdd{
    top: 200px;
    right: 65%;
    width: 327px;
    height: 300px;
    margin-top: 27%;
    /* position: fixed;
    */overflow: auto;
   }
    .cadcdd1{
    top: 200px;
    right: 90% !important;
    width: 327px;
    height: 300px;
    margin-left:40%;
    margin-top:-16%;
       /*position: fixed;
      */overflow: auto;
   }
   .position{
    margin-left:10%
   
   }
    </style>
       <span class="position"> 
       <paper-dropdown-menu  label="Select the Grade">
                <paper-menu id="teacherref" class="dropdown-content"   on-iron-select="fnsetgrade">
                  <template is="dom-repeat" items="{{empschoolnamesarr}}">
                    <paper-item value="{{item.grade_id}}">{{item.grade_name}}</paper-item>
                  </template>    
                </paper-menu>
         </paper-dropdown-menu>
       </span>
         <span class="position"> 
         <paper-dropdown-menu  label="Select subject">
                <paper-menu id="teacherref" class="dropdown-content"   on-iron-select="fnemployeename">
                  <template is="dom-repeat" items="{{sectionarr}}">
                    <paper-item value="{{item.subject_id}}">{{item.subject_name}}</paper-item>
                  </template>    
                </paper-menu>
          </paper-dropdown-menu>
       </span> 
      <div style="width:20%;margin-left:65%;margin-top:-6%"> 
         <paper-input label="capter" value="{{captername}}">
         <paper-icon-button icon="save" suffix on-click="fnset">
        </paper-icon-button>
         </paper-input>
      </div>
       <section>
          <h2 style="margin-left:8%;margin-top:1%;position:fixed;"> CHAPTER NAME</h2>
          <div class="cadcdd"> 
           <template is="dom-repeat" items="{{capterarr}}" as="view">
              <teacher-book-refernce-item-card capter="{{view.capter}}" capterid="{{view.capter_id}}"></teacher-book-refernce-item-card>
          </template>
       </div> 
      </section>
     
      <h2 style="margin-left: 38%;margin-top: -22%;position:fixed;">CONCEPT NAME</h2>
       <div class="cadcdd1">
       <template is="dom-repeat" items="{{conceptarr}}" as="s">
          <skill-capturing-card conceptid="{{s.concept_id}}" conceptname="{{s.concept}}"></skill-capturing-card>
      </template>
     </div>
      <div style="margin-left: 72%;margin-top: -29%;position: fixed;">
          <h2> SKILL NAME</h2>
          <template is="dom-repeat" items="{{skillarr}}" as="r">
         <h2>*{{r.skill}}</h2>
         </template>
         </div>
       
    <teacher-book-service-card id="bookservice"></teacher-book-service-card>

  </template>
  <script>
  (function() {
    'use strict';  
var k;
    Polymer({
      is: 'teacher-book-refernce-card',

    fnsetgrade:function(e){
     this.gradeid=e.target.selectedItem.value;
      sessionStorage.setItem("grdeidz",this.gradeid);
       
     this.gradename=e.target.selectedItem.textContent.trim()
     this.$.bookservice.bookrefsection(this.gradeid,this.gradename);
     this.captername="";
     },
     fnemployeename:function(e){
     this.subjectid=e.target.selectedItem.value;
       sessionStorage.setItem("subjectidz",this.subjectid);
     this.subjectname=e.target.selectedItem.textContent.trim()
     // alert(sessionStorage.getItem("grdeidz")+"  "+sessionStorage.getItem("subjectidz"));
    this.$.bookservice.getcaptervalue();
    
    },
     fnset:function(e){
     this.$.bookservice.fnsetcapture(this.gradeid,this.subjectid,this.captername,this.capterid);
     //this.captername="";
       },

   addconcept:function() {
  this.$.addconcept.toggle();
  },
  addKill:function() {
  this.$.addKill.toggle();
},
fncollapse1:function(e){
 this.$.collapse1.toggle();
 
},
    });
  })();
  </script>
</dom-module>
