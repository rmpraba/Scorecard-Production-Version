
<link rel="import" href="..\..\bower_components/polymer/polymer.html">
<link rel="import" href="..\..\bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../../bower_components/iron-icons/maps-icons.html">
<link rel="import" href="../../bower_components/paper-dropdown-menu-light/paper-dropdown-menu-light.html">


<dom-module id="grade-creation-card">
  <template>
    <style>
      :host
      {
         margin-left: 10%;
        display: block;
         @apply(--layout-center);
        /*width: 40%;*/
      }

      .card
      {
         @apply(--layout-center);
        width: 55%;
        margin-left: 10%;
      }

      .title
      {
        @apply(--layout-center);
        width: 255%;
        margin-left: 38%; 
      }

      .creatediv paper-button
      {
      background-color: #363636;
      color: #ffffff;
      width: 7%;
      margin-left: 39%;
      margin-top: 3%;
      }

      .buttons paper-button
      {
        @apply(--layout-center);
      background-color: #363636;
      color: #ffffff;
      width: 10%;
      margin-top: 6%;
      }

      /*#gradedialog
      {
        width: 40%;
        margin: 0 auto;
        box-shadow: 0px 0px 14px -1px rgba(0,0,0,0.75);
      }*/

      .popup-btn
      {
        margin: 0 auto;
      }

      table
      {
        @apply(--layout-horizontal);
         border-collapse: collapse;
        border: 1px solid #dedede;
        margin-top: 3%;
        margin-left: 30%;
        width: 59%;
      }
     /* .outcard{
        @apply(--layout-horizontal);
      }*/

      .creatediv
      {
         border-radius: 10px;
          border: 1px solid #6699ff;
          padding: 10px; 
          width: 25%;
          margin-left: -4%;
          margin-top: -54% !important;
          min-height: 700%;
      }
      .newtitle
      {
        margin-top: 4%;
      }
      
    </style>


    <div class="title"> 
        <h3><b>GRADE</b></h3>
    </div>

   <div class="outcard">
   <div class="newgradediv" hidden$="{{newgradediv}}">
    <div class="newtitle" style="margin-left:50%">
        <h4>Current Grade Details</h4>
    </div>
    <div>     
      <table>
        <tr>
            <th> <label>Grade ID</label></th>
            <th> <label>Grade Name</label></th>
            <th></th>
        </tr>

        <template is="dom-repeat" items="{{gradearr}}" as="g">
            <tr><td colspan="3">
            <grade-display-card gradeid="{{g.grade_id}}" gradename="{{g.grade_name}}" hidegradenameinput="true" hidegradenameitem="false"> </grade-display-card></td>
            </tr>
        </template>
      </table>
    </div>
    </div>

    <div class="creatediv">
        <div class="card">       
            <label>Create New Grade</label>
            <paper-input hidden value="{{gradeid}}" label="Grade ID"></paper-input>
             <paper-input label="Grade Name" id="gradename" required error-message="needs Grade name!" value="{{gradename}}"  allowed-pattern="[a-zA-Z ]" ></paper-input>

        </div>

        <div class="buttons">
            <paper-button class="popup-btn" on-click="FnSubmit">Submit </paper-button>
        </div>
    </div>
  </div> 

        <master-ui-service id="uiservice"></master-ui-service>
     
   </template>
   <script>
   (function() {
    'use strict';
     Polymer({
      is: 'grade-creation-card',

      properties: {
        foo: {
          type: String,
          value: 'grade-creation-card',
          notify: true
        }
      },

      ready:function()
      {
        //alert("hii");        
        /*this.gradename="Grade-";*/
        this.$.uiservice.FnFetchGrade();
        this.$.uiservice.FnFetchGradeSeq();
        this.$.hidenewgradecreationcard=true;  
        this.FnRefresh();
      },
      FnRefresh:function()
      {
        this.gradename="";
      },

      FnSubmit:function()
      {
        if(this.gradename==null || this.gradename=="")
        {
          this.$.gradename.validate();
         // alert("please enter Grade name before save");
        }
        else
        {  
        this.$.uiservice.FnSetGradeCreationInfo(this.gradeid,this.gradename);
        this.ready();
        //document.querySelector('grade-creation-card').FnRefresh();
        //this.$.gradedialog.toggle();8
        }
        
      },
      gradeeview:function()
      {
        this.newgradediv=false;
      },
      gradeehide:function()
      {
        this.newgradediv=true;
      }
     
    });
  })();

  </script>
</dom-module>

