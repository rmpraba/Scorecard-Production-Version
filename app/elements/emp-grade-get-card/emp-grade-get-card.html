<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="..\..\bower_components/polymer/polymer.html">

<dom-module id="emp-grade-get-card">
  <template>
    <style>
      :host {
        display: block;
      }
          .innercard{
         @apply(--layout-horizontal);    
      margin-left:7.5em;
      width:100%;   
     }

  
    </style>
    <div class="innercard">
          <paper-input value="{{employeeidz}}" hidden></paper-input>
          <paper-input value="{{empgradeidz}}" hidden></paper-input>
          <paper-input value="{{empsubjectidz}}" hidden></paper-input>
          <paper-input value="{{employeesectionidz}}" hidden></paper-input>
          <paper-checkbox value="{{employeesectionnamez}}" id="{{id}}" on-change="fnsetsection"></paper-checkbox>
    </div>
        
  </template>
  <script>
  (function() {
    'use strict';
  var empsectionarr=[];
   var empsectionarr1=[];
 
   var empdbsubjectarr=[];
   var v=[];
    Polymer({
      is: 'emp-grade-get-card',
          fnsetsection:function(e){
           //alert(this.id);
           //alert(this.empsubjectidz);
            //alert(document.querySelector('#'+this.id).checked);
            if(document.querySelector('#'+this.id).checked==true)
            {
                    //alert(this.employeeidz+this.empgradeidz+this.empsubjectidz+this.employeesectionnamez);
                var obj={"employeeidz":"","empgradeidz":"","empsubjectidz":"","employeesectionnamez":"","employeesectionidz":""};
                    obj.employeeidz=this.employeeidz;
                    obj.empgradeidz=this.empgradeidz;
                    obj.empsubjectidz=this.empsubjectidz;
                    obj.employeesectionnamez=this.employeesectionnamez;
                    obj.employeesectionidz=this.employeesectionidz;
                    empsectionarr.push(obj);
                    v.push(obj);   
                   // alert(JSON.stringify(obj));
               document.querySelector('employe-category-creation-card').fnsetempsection(empsectionarr);
               }   
              else if(document.querySelector('#'+this.id).checked==false){
                 var obj={"employeeidz":"","empgradeidz":"","empsubjectidz":"","employeesectionnamez":"","employeesectionidz":""};
                      obj.employeeidz=this.employeeidz;
                      obj.empgradeidz=this.empgradeidz;
                      obj.empsubjectidz=this.empsubjectidz;
                      obj.employeesectionnamez=this.employeesectionnamez;
                      obj.employeesectionidz=this.employeesectionidz;
                     this.empsectionclassparam=obj;
                      empsectionarr1.push(obj);
                document.querySelector('employe-category-creation-card').fnsetempsection1(empsectionarr1);
        
              
                for(var i=0;i<empsectionarr.length;i++){
                   empsectionarr.splice(i,1);
          }
        }
      },
    empsectionclassResponse:function(e)
    {
         var res=e.detail.response.returnval; 
            //alert(JSON.stringify(res));
   },
   Fngradecleansection2:function(e){

    for(var j=0;j<v.length;j++)
      {
             var empdbsubject=v[j].empsubjectidz+v[j].employeesectionidz;
            //alert(empdbsubject);
            document.querySelector('#'+empdbsubject).checked=false;
            //  document.querySelector('#'+this.id).checked=false;
        }
            var obj={"employeeidz":"","empgradeidz":"","empsubjectidz":"","employeesectionnamez":"","employeesectionidz":""};
                     obj.employeeidz=this.employeeidz;
                     obj.empgradeidz=this.empgradeidz;
                     obj.empsubjectidz=this.empsubjectidz;
                     obj.employeesectionnamez=this.employeesectionnamez;
                     obj.employeesectionidz=this.employeesectionidz;
                     v.splice(obj);
               
     
   },
    Fngradecleansection:function(e)
    {
            var obj={"employeeidz":"","empgradeidz":"","empsubjectidz":"","employeesectionnamez":"","employeesectionidz":""};
                     obj.employeeidz=this.employeeidz;
                     obj.empgradeidz=this.empgradeidz;
                     obj.empsubjectidz=this.empsubjectidz;
                     obj.employeesectionnamez=this.employeesectionnamez;
                     obj.employeesectionidz=this.employeesectionidz;
                     empsectionarr.splice(obj);
                     empdbsubjectarr.splice(obj);
    }, 
    Fngradecleansection1:function(e){
            var obj={"employeeidz":"","empgradeidz":"","empsubjectidz":"","employeesectionnamez":"","employeesectionidz":""};
                     obj.employeeidz=this.employeeidz;
                     obj.empgradeidz=this.empgradeidz;
                     obj.empsubjectidz=this.empsubjectidz;
                     obj.employeesectionnamez=this.employeesectionnamez;
                     obj.employeesectionidz=this.employeesectionidz;
                   //  alert(JSON.stringify(obj));
                     empsectionarr1.splice(obj);
            
    },
      empsctionmaping:function(arr)
      {
        empdbsubjectarr=arr;
         //alert(JSON.stringify(empdbsubjectarr));
        for(var i=0;i<empdbsubjectarr.length;i++)
        {
              var employeeidz=empdbsubjectarr[i].id;
              var empgradeidz=empdbsubjectarr[i].grade_id;
              var empsubjectidz=empdbsubjectarr[i].subject_id;
              var employeesectionnamez=empdbsubjectarr[i].section_id;
              var empdbsubject=empdbsubjectarr[i].subject_id+empdbsubjectarr[i].classid;
              var cassidz=empdbsubjectarr[i].classid;
            // alert(empdbsubject);
             document.querySelector('#'+empdbsubject).checked=true; 
           if(document.querySelector('#'+empdbsubject).checked==true)
           {
           var obj={"employeeidz":"","empgradeidz":"","empsubjectidz":"","employeesectionnamez":"","employeesectionidz":""};
              obj.employeeidz=employeeidz;
             obj.empgradeidz=empgradeidz;
             obj.empsubjectidz=empsubjectidz;
             obj.employeesectionnamez=employeesectionnamez;
             obj.employeesectionidz=cassidz;
             v.push(obj);
              //alert(JSON.stringify(empsectionarr));}}
            }
          } 
        },


        fnnsaveinput:function()
        {
          if(empsectionarr.length!=0)
          {
            document.querySelector('employe-category-creation-card').fnnsavezz();
          }
          else
          {
            document.querySelector('employe-category-creation-card').fnninputzz();
          }
        }   
     });
  })();
  </script>
</dom-module>
