
<link rel="import" href="..\..\bower_components/polymer/polymer.html">

<dom-module id="school-grade-to-role-mapping-item">
  <template>
    <style>
    </style>
    <div>
       <div hidden>{{class}}{{section}}{{empid}}{{empname}}{{flage}}{{academicyear}}{{roleid}}{{schooltype}}</div>
       <div hidden$="{{flag}}">{{compid}}</div>
       <paper-checkbox hidden$="{{flagg}}" checked="{{check}}" on-change="FnSelectRole" id="{{compid}}"></paper-checkbox>
    </div>
  </template>
  <script>
  (function() {
    'use strict';
    var selected="";
    var arr=[];
    Polymer({
      is: 'school-grade-to-role-mapping-item',
      ready:function(){

      },
      FnSelectRole:function(e){
        // alert(this.section);
        if(selected==""){
          if(document.querySelector('#'+this.compid).checked==true)
          {
          selected=this.compid;
          var obj={};
          obj.compid=this.id;
          obj.class=this.class;
          obj.section=this.section;
          obj.empid=this.empid;
          obj.empname=this.empname;
          obj.flage=this.flage;
          obj.academicyear=this.academicyear;
          obj.schooltype=this.schooltype;
          obj.roleid=this.roleid;
          }
          arr.push(obj);
        }
        else{
          var f=0;
          var obj={};
          obj.compid=this.id;
          obj.class=this.class;
          obj.section=this.section;
          obj.empid=this.empid;
          obj.empname=this.empname;
          obj.flage=this.flage;
          obj.academicyear=this.academicyear;
          obj.schooltype=this.schooltype;
          obj.roleid=this.roleid;
          for(var i=0;i<arr.length;i++){
          if(this.compid==arr[i].compid){
            f=1
            arr.splice(i,1);
          }
          }
          if(f==0)
            arr.push(obj);
        }
        alert(JSON.stringify(arr));
      }
    });
  })();
  </script>
</dom-module>
